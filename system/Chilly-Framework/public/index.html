<!DOCTYPE html>
<html>
<head>
    <title>Chilly Framework Boilerplate</title>
    <link rel="stylesheet" href="../../jquery-ui-1.10.3/themes/base/jquery.ui.all.css">
    <script src="../../jquery-ui-1.10.3/jquery-1.9.1.js"></script>
    <script src="../../jquery-ui-1.10.3/ui/jquery.ui.core.js"></script>
    <script src="../../jquery-ui-1.10.3/ui/jquery.ui.widget.js"></script>
    <script src="../../jquery-ui-1.10.3/ui/jquery.ui.accordion.js"></script>
    <link rel="stylesheet" href="../../jquery-ui-1.10.3/demos/demos.css">
    <link rel="stylesheet" href="./css/elements.css">
    <script>
        $(function() {
            $( "#accordion" ).accordion();
        });
    </script>

    <script type="text/javascript" src="../../glMatrix-0.9.5.min.js"></script>
    <script type="text/javascript" src="../../webgl-utils.js"></script>


    <script id="shader-fs" type="x-shader/x-fragment">
        precision mediump float;

        varying vec4 vColor;

        void main(void) {
        gl_FragColor = vColor;
        }
    </script>

    <script id="shader-vs" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
        attribute vec4 aVertexColor;

        uniform mat4 uMVMatrix;
        uniform mat4 uPMatrix;

        varying vec4 vColor;

        void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vColor = aVertexColor;
        }
    </script>

    <script src="./js/webgl.js"></script>
    <script src="./js/primitives.js"></script>
    <script type="text/javascript">

    $(document).ready(function(){
        webGLStart();
    });
    $(window).resize(function() {
        webGLResize();
    });


    </script>

</head>
<body >
<div style="width:100%;height:100%;display:inline;">

    <div id="accordion" class="panels">
        <h3>Order Pools</h3>
        <div>
            <p>
                1
            </p>
        </div>
        <h3>Available Actions</h3>
        <div>
            <p>
               2
            </p>
        </div>
    </div>

    <div id="main3D" class="main">
        <canvas  style="border: none;width:100%;height:100%;"></canvas>
    </div>

    <div class="panels">Players and Chat</div>
</div>
<script src="/js/libraries/chilly-0.2.js"></script>
<script type="text/javascript">
//    window.onload = function() {
//
//        /**
//         * Definitions
//         */
//        // defines a new channel "chat", define what happens when a chat event is received
//        Chilly.listen('chat', function(msg){
//            console.log('Chat event received.');
//            console.log(msg);
//        });
//
//        // define an event on the update channel
//        Chilly.onUpdate('sum', function(data) {
//            console.log('Sum update received.');
//            console.log(data);
//        });
//
//        // one more event on the update channel
//        Chilly.onUpdate('multiply', function(data) {
//            console.log('Multiply update received.');
//            console.log(data);
//        });
//
//        /**
//         * Login
//         */
//        // login is required to register a player with Chilly
//        // password implementation is up to the user
//        Chilly.request('login', {
//            data: {
//                username: 'user' + Math.floor(Math.random()*1001) // random number for testing in multiple browsers at the same time
//            },
//            success:function (data) {
//                Chilly.init(); // triggers init event
//                Chilly.longPoll(); // start listening to defined channels for updates (update [default] + chat [user defined])
//            },
//            error: function(data) {
//                // @verification must be added to check if username / password was correct
//                // if already logged in:
//                Chilly.init(); // triggers init event
//                Chilly.longPoll(); // start listening to defined channels for updates (update [default] + chat [user defined])
//            }
//        });
//
//
//        /**
//         * Broadcasting
//         */
//        // broadcast to all members of the game in 5s
//        setTimeout(function(){
//
//            // send chat example (triggers chat chanel update)
//            Chilly.request('sendChat', {
//                data: {
//                    message: 'This is a broadcasted message!!!'
//                },
//                success: function (data) {
//                    console.log('Message sent successfully.');  // this can happen after the result is received due to the nature of ajax
//                }
//            });
//
//
//            // game update example (triggers onUpdate)
//            Chilly.request('sum', {
//                data: {
//                    number1: 5,
//                    number2: 6
//                },
//                success: function(data) {
//                    console.log('Sum request sent successfully.'); // this can happen after the result is received due to the nature of ajax
//                }
//            });
//
//
//            // another game update example (triggers onUpdate)
//            Chilly.request('multiply', {
//                data: {
//                    number1: 2,
//                    number2: 3
//                },
//                success: function(data) {
//                    console.log('Multiply request sent successfully.'); // this can happen after the result is received due to the nature of ajax
//                }
//            });
//        }, 5000);
//    };
</script>
</body>
</html>